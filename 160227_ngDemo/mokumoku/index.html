<!DOCTYPE html>
<html lang="ja" ng-app="myApp">
<head>
  <meta charset="UTF-8">
  <title>mokumoku</title>
  <script src="angular.min.js"></script>
  <style rel="stylesheet" href="style.css"></style>
</head>
<body>
  <todo></todo>
</body>
<script>
  (function() {
    angular.module('myApp', [])
      .component('todo', {
        controllerAs: 'app',
        controller: function() {
          this.list = [];

          // todoの追加
          this.clickButton = function() {
            this.todo.date = Date.now();
            this.list.push(this.todo);
            this.todo = {};
          };

          // 終了時に打ち消し線
          this.clickList = function(item) {
            item.done = !item.done;
          }

          // 削除機能
          this.clickDeleteButton = function(item) {
            var idx = this.list.indexOf(item);
            if (idx >= 0) {
              this.list.splice(idx, 1);
            }
          }
        },
        templateUrl: 'todo.html'
      })
  })();
</script>
</html>
